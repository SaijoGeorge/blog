import React, { Component } from "react"
import "gsap"

export default class extends Component {
  componentDidMount() {
    const tower = this.el.querySelector("#tower-tower")
    const clouds = this.el.querySelectorAll("#tower-clouds path")

    this.clouds = new TimelineMax({ repeat: -1 }).staggerTo(
      clouds,
      15,
      {
        x: 1000,
        ease: Power0.easeNone
      },
      4
    )

    this.tower = new TimelineMax({ repeat: -1 })
      .to(
        tower,
        7,
        {
          rotation: 7,
          transformOrigin: "left bottom"
        },
        0
      )
      .to(tower, 1, { rotation: 0 })

    this.clouds.paused(!this.props.isActive)
    this.tower.paused(!this.props.isActive)
  }

  componentWillReceiveProps(nextProps) {
    this.clouds.paused(!nextProps.isActive)
    this.tower.paused(!nextProps.isActive)
  }

  render() {
    return (
      <svg ref={el => (this.el = el)} viewBox="0 0 600 600">
        <clipPath id="tower-of-pisa-clip">
          <path d="M600 300c0 165.686-134.314 300-300 300S0 465.686 0 300C0 134.315 134.314 0 300 0s300 134.315 300 300" />
        </clipPath>
        <g clipPath="url(#tower-of-pisa-clip)">
          <path d="M-24-13h637v467.997H-24z" fill="#89C7F9" />
          <path
            d="M51.48 464.554L179.833 340.71l128.352 123.844zM315.903 468.98L428.2 360.623 540.5 468.98z"
            fill="#68ABE3"
          />
          <g id="tower-clouds" fill="#FFF">
            <path
              id="cloud4"
              d="M-8.727 142.31c0-13.347-11.74-24.166-26.224-24.166-3.393 0-6.63.6-9.608 1.68-3.948-11.375-14.892-19.558-27.787-19.558-12.914 0-23.872 8.21-27.803 19.613-3.148-1.406-6.64-2.195-10.322-2.195-13.824 0-25.032 11.03-25.032 24.64 0 13.608 11.208 24.64 25.032 24.64.822 0 1.635-.042 2.437-.118.587.075 1.202.12 1.843.12h70.054c1.562 0 2.996-.244 4.15-.65 13.088-1.358 23.26-11.586 23.26-24.007z"
            />
            <path
              id="cloud3"
              d="M-28.833 280.538c0-10.534-9.266-19.074-20.7-19.074-2.677 0-5.232.474-7.582 1.327-3.117-8.978-11.755-15.437-21.934-15.437-10.192 0-18.842 6.48-21.945 15.48-2.484-1.108-5.24-1.73-8.147-1.73-10.91 0-19.758 8.707-19.758 19.448 0 10.742 8.847 19.45 19.758 19.45.65 0 1.29-.033 1.923-.094.464.06.95.094 1.455.094h55.295c1.233 0 2.365-.192 3.277-.512 10.332-1.072 18.36-9.144 18.36-18.95z"
            />
            <path
              id="cloud2_1_"
              d="M-7.925 128.96c0-13.536-11.907-24.51-26.597-24.51-3.44 0-6.723.61-9.742 1.706C-48.27 94.62-59.367 86.32-72.447 86.32c-13.1 0-24.21 8.326-28.198 19.89-3.192-1.424-6.734-2.224-10.47-2.224-14.02 0-25.387 11.188-25.387 24.99 0 13.8 11.367 24.99 25.388 24.99.834 0 1.657-.042 2.47-.12.596.077 1.22.12 1.87.12h71.05c1.583 0 3.037-.247 4.21-.658 13.274-1.378 23.59-11.75 23.59-24.348z"
            />
            <path
              id="cloud1"
              d="M-21.134 300.24c0-12.515-11.01-22.66-24.588-22.66-3.18 0-6.215.564-9.007 1.577-3.702-10.667-13.962-18.34-26.054-18.34-12.11 0-22.383 7.7-26.068 18.39-2.952-1.317-6.227-2.056-9.68-2.056-12.96 0-23.47 10.344-23.47 23.104s10.51 23.104 23.47 23.104c.772 0 1.533-.04 2.285-.11.55.07 1.127.11 1.728.11h65.687c1.463 0 2.808-.228 3.892-.607 12.27-1.274 21.806-10.863 21.806-22.51z"
            />
          </g>
          <path
            d="M201.506 456.497l-.01-57.64 21.266 25.282h-9.556l13.783 14.618h-12.23l17.322 17.74z"
            fill="#4A8221"
          />
          <path
            d="M201.487 456.497l.01-57.64-21.266 25.282h9.556l-13.782 14.618h12.23l-17.323 17.74z"
            fill="#3B661A"
          />
          <path
            d="M391.716 456.497l-.008-44.835 16.54 19.666h-7.43l10.72 11.37h-9.514l13.475 13.8z"
            fill="#4A8221"
          />
          <path
            d="M391.7 456.497l.008-44.835-16.54 19.666h7.432l-10.72 11.37h9.513l-13.475 13.8z"
            fill="#3B661A"
          />
          <path d="M-27 454.997h639V615H-27z" fill="#5FA62C" />
          <g id="tower-tower">
            <path d="M243.253 408.586h115.494v61.25H243.253z" fill="#FFE0B2" />
            <path
              d="M348.29 427.647v42.19h-22.58v-42.19c0-5.828 5.04-10.563 11.29-10.563 3.113 0 5.936 1.195 7.975 3.103 2.04 1.905 3.316 4.547 3.316 7.46zM276.29 427.647v42.19h-22.58v-42.19c0-5.828 5.04-10.563 11.29-10.563 3.114 0 5.937 1.195 7.976 3.103 2.038 1.905 3.315 4.547 3.315 7.46zM312.29 427.647v42.19h-22.58v-42.19c0-5.828 5.04-10.563 11.29-10.563 3.113 0 5.936 1.195 7.975 3.103 2.04 1.905 3.316 4.547 3.316 7.46z"
              fill="#B39D7C"
            />
            <path d="M243.253 368.088h115.494v38.998H243.253z" fill="#FFE0B2" />
            <path
              d="M306.457 381.375v22.462H295.21v-22.462c0-3.103 2.51-5.624 5.623-5.624 1.55 0 2.957.638 3.973 1.653 1.015 1.014 1.65 2.422 1.65 3.972zM263.29 381.375v22.462h-11.248v-22.462c0-3.103 2.51-5.624 5.624-5.624 1.55 0 2.957.638 3.973 1.653 1.015 1.014 1.65 2.422 1.65 3.972zM284.957 381.375v22.462H273.71v-22.462c0-3.103 2.51-5.624 5.623-5.624 1.55 0 2.957.638 3.973 1.653 1.016 1.014 1.65 2.422 1.65 3.972zM328.29 381.21v22.46h-11.247v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.422 1.65 3.972zM349.958 381.21v22.46H338.71v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.422 1.65 3.972z"
              fill="#948267"
            />
            <g>
              <path
                d="M243.253 328.755h115.494v38.998H243.253z"
                fill="#FFE0B2"
              />
              <path
                d="M306.624 340.71v22.46h-11.248v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM263.457 340.71v22.46H252.21v-22.46c0-3.104 2.51-5.625 5.623-5.625 1.55 0 2.957.637 3.973 1.652 1.016 1.014 1.65 2.42 1.65 3.972zM285.124 340.71v22.46h-11.248v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.016 1.014 1.65 2.42 1.65 3.972zM328.458 340.543v22.462H317.21v-22.462c0-3.103 2.51-5.624 5.624-5.624 1.55 0 2.957.636 3.973 1.65 1.015 1.015 1.65 2.422 1.65 3.973zM350.125 340.543v22.462h-11.248v-22.462c0-3.103 2.51-5.624 5.624-5.624 1.552 0 2.958.636 3.974 1.65 1.015 1.015 1.65 2.422 1.65 3.973z"
                fill="#948267"
              />
            </g>
            <g>
              <path d="M243.253 289.42h115.494v39H243.253z" fill="#FFE0B2" />
              <path
                d="M306.624 301.375v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.638 3.973 1.653 1.015 1.014 1.65 2.42 1.65 3.972zM263.457 301.375v22.462H252.21v-22.462c0-3.102 2.51-5.624 5.623-5.624 1.55 0 2.957.638 3.973 1.653 1.016 1.014 1.65 2.42 1.65 3.972zM285.124 301.375v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.638 3.973 1.653 1.016 1.014 1.65 2.42 1.65 3.972zM328.458 301.21v22.46H317.21v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM350.125 301.21v22.46h-11.248v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.552 0 2.958.637 3.974 1.652 1.015 1.014 1.65 2.42 1.65 3.972z"
                fill="#948267"
              />
            </g>
            <g>
              <path d="M243.253 249.42h115.494v39H243.253z" fill="#FFE0B2" />
              <path
                d="M306.624 261.375v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.638 3.973 1.653 1.015 1.014 1.65 2.42 1.65 3.972zM263.457 261.375v22.462H252.21v-22.462c0-3.102 2.51-5.624 5.623-5.624 1.55 0 2.957.638 3.973 1.653 1.016 1.014 1.65 2.42 1.65 3.972zM285.124 261.375v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.638 3.973 1.653 1.016 1.014 1.65 2.42 1.65 3.972zM328.458 261.21v22.46H317.21v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM350.125 261.21v22.46h-11.248v-22.46c0-3.104 2.51-5.625 5.624-5.625 1.552 0 2.958.637 3.974 1.652 1.015 1.014 1.65 2.42 1.65 3.972z"
                fill="#948267"
              />
            </g>
            <g>
              <path
                d="M243.253 210.088h115.494v38.998H243.253z"
                fill="#FFE0B2"
              />
              <path
                d="M306.457 223.542v22.462H295.21v-22.462c0-3.102 2.51-5.624 5.623-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM263.29 223.542v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM284.957 223.542v22.462H273.71v-22.462c0-3.102 2.51-5.624 5.623-5.624 1.55 0 2.957.637 3.973 1.652 1.016 1.014 1.65 2.42 1.65 3.972zM328.29 223.376v22.462h-11.247v-22.462c0-3.103 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM349.958 223.376v22.462H338.71v-22.462c0-3.103 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972z"
                fill="#948267"
              />
            </g>
            <g>
              <path
                d="M243.253 170.754h115.494v38.998H243.253z"
                fill="#FFE0B2"
              />
              <path
                d="M306.624 182.708v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM263.457 182.708v22.462H252.21v-22.462c0-3.102 2.51-5.624 5.623-5.624 1.55 0 2.957.637 3.973 1.652 1.016 1.014 1.65 2.42 1.65 3.972zM285.124 182.708v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.016 1.014 1.65 2.42 1.65 3.972zM328.458 182.542v22.462H317.21v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.55 0 2.957.637 3.973 1.652 1.015 1.014 1.65 2.42 1.65 3.972zM350.125 182.542v22.462h-11.248v-22.462c0-3.102 2.51-5.624 5.624-5.624 1.552 0 2.958.637 3.974 1.652 1.015 1.014 1.65 2.42 1.65 3.972z"
                fill="#948267"
              />
            </g>
            <g>
              <path d="M253.333 111.322h95.334v62.34h-95.334z" fill="#FFE0B2" />
              <path
                d="M287.542 136.13v28.866H274.46V136.13c0-3.987 2.92-7.226 6.54-7.226 1.805 0 3.44.818 4.624 2.123 1.18 1.302 1.918 3.11 1.918 5.103zM327.54 136.13v28.866h-13.08V136.13c0-3.987 2.92-7.226 6.538-7.226 1.807 0 3.442.818 4.625 2.123 1.18 1.302 1.918 3.11 1.918 5.103zM309.19 143.645v21.35H292.81v-21.35c0-2.95 3.657-5.345 8.19-5.345 2.26 0 4.31.606 5.79 1.57 1.48.964 2.403 2.302 2.403 3.775zM345.45 144.07v20.927h-13.48V144.07c0-2.89 3.01-5.24 6.738-5.24 1.862 0 3.548.594 4.767 1.54 1.216.945 1.976 2.255 1.976 3.7zM270.282 143.645v21.35h-13.716v-21.35c0-2.95 3.062-5.345 6.856-5.345 1.895 0 3.61.606 4.85 1.57 1.237.964 2.01 2.302 2.01 3.775z"
                fill="#B39D7C"
              />
            </g>
            <g>
              <path d="M241 205.452h120v6.42H241z" fill="#948267" />
              <path d="M241 202.33h120v5.328H241z" fill="#FFE0B2" />
              <path d="M241 168.12h120v6.418H241z" fill="#948267" />
              <path d="M241 164.997h120v5.328H241z" fill="#FFE0B2" />
              <path d="M250 108.804h102v10.48H250z" fill="#948267" />
              <path d="M250 108.618h102v3.966H250z" fill="#FFE0B2" />
              <path d="M241 247.452h120v6.42H241z" fill="#948267" />
              <path d="M241 244.33h120v5.328H241z" fill="#FFE0B2" />
              <path d="M241 285.333h120v6.53H241z" fill="#948267" />
              <path d="M241 287.658v-5.583h120v5.583" fill="#FFE0B2" />
              <path d="M241 325.45h120v6.42H241z" fill="#948267" />
              <path d="M241 322.33h120v5.326H241z" fill="#FFE0B2" />
              <path d="M241 364.665h120v6.53H241z" fill="#948267" />
              <path d="M241 361.406h120v5.584H241z" fill="#FFE0B2" />
              <path d="M241 404.368h120v7.43H241z" fill="#948267" />
              <path d="M241 402.243h120v5.413H241z" fill="#FFE0B2" />
            </g>
          </g>
          <path d="M229 470h176.002v55H229z" fill="#5FA62C" />
          <path
            d="M195.022 586l-.016-93 34.31 40.792-5.19 4.553 12.01 19.034-9.346 4.462L244.353 586z"
            fill="#76CF37"
          />
          <path
            d="M194.99 586l.016-93-34.31 40.792h15.417l-22.238 23.587h19.733L145.658 586z"
            fill="#4D8724"
          />
          <path
            d="M153.482 462.9l-.01-57.64 21.265 25.282h-9.555l13.783 14.62h-12.23l17.322 17.738z"
            fill="#4A8221"
          />
          <path
            d="M153.462 462.9l.01-57.64-21.265 25.282h9.555l-13.783 14.62h12.23L122.885 462.9z"
            fill="#3B661A"
          />
          <path
            d="M439.537 472.736l-.01-57.64 21.265 25.282h-9.555l13.783 14.62h-12.23l17.323 17.738z"
            fill="#4A8221"
          />
          <path
            d="M439.517 472.736l.01-57.64-21.265 25.282h9.555l-13.783 14.62h12.23l-17.322 17.738z"
            fill="#3B661A"
          />
          <path
            d="M253.73 600l-.02-121 44.64 53.073h-20.06l28.935 30.688H281.55L317.915 600z"
            fill="#76CF37"
          />
          <path
            d="M253.69 600l.02-121-44.64 53.073h20.058l-28.934 30.688h25.675L189.503 600z"
            fill="#4D8724"
          />
          <path
            d="M405.02 562.76l-.01-74.974 27.66 32.886h-12.43l17.928 19.015h-15.91l22.535 23.074z"
            fill="#76CF37"
          />
          <path
            d="M404.996 562.76l.013-74.974-27.662 32.886h12.43l-17.93 19.015h15.91l-22.533 23.074z"
            fill="#4D8724"
          />
        </g>
      </svg>
    )
  }
}
